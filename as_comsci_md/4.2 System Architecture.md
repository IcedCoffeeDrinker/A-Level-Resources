# 4.2 System Architecture

## CPU performance
-   **clock speed** (measured in Hz = cycles per second)
    -   a given number of instructions is executed every cycle
-   **Cache Size**
    -   having to access slower RAM takes longer, having more cache is beneficial
-   **Cache Type**: there is a trade-off between latency and the hit rate
    -   hit-rate: how fast data is found -> highly dependent on size
    -   speed vs. size tradeoff
    -   solution: multiple levels of cache
-   **Number of cores**: today's chips have multiple processing units (PUs)
    -   double cores doesn't quite mean double the actions/speed, it's more complicated
    -   multiple cores share a larger cache, but each also has their own

## System Bus
-   parallel transmission component
    -   many parallel wires transmit an array of bits (at the same time)
-   there are other busses than the system bus located inside the CPU
-   System bus connects the CPU to memory and input-output devices:
    -   address bus -> memory address
    -   data bus -> actual data
    -   control bus -> e.g. timing of the system
-   \* I/O = input output

---
*Diagram Description:*
- **Components**: CPU, Memory (controller), I/O (controller)
- **Buses**:
    - **Control Bus**: Bidirectional arrows connecting CPU, Memory, and I/O.
    - **Address Bus**: Unidirectional arrows from CPU to Memory and I/O.
    - **Data Bus**: Bidirectional arrows connecting CPU, Memory, and I/O.
---

### Address Bus
-   only carries addresses (one at a time)
-   loaded by the MAR in the CPU, timed by CU
-   one way street from CPU to memory and I/O devices
    -   recieved by memory controller or I/O controller

### Data Bus
-   carries data, either: instruction, value, address
-   bidirectional -> CPU, memory and I/O devices can load / recieve data
-   ! some systems only allow transfer between memory and I/O through CPU, other computer systems allow for direct transmission

### Control Bus
-   is for communication between the system and the Control Unit in the CPU
-   has only eight wires, doesn't need more (usually)
-   carries the system clock signal -> ensures syncronization of components

## A word
-   a 'word' describes the smallest unit of data that can be transferred between components at once. (max capacity of CPU)
-   the word length is defined by the system architecture, usually 16, 32, or 64 bits, respectively :) always in byte increments
    -   registers usually match the word length,
    -   bus-width is also dependent on the word length

## Bus width & memory addressing
-   The width of the address bus determines how many individual addresses can be reached.
-   each address refers to a single byte
-   systems with small address bus width use special techniques for indirect addressing, which is slower
-   the address bus width is ideally, but not neccessarily the size of a word
    -   if not a full word, then probably half a word.

## I/O ports

---
*Diagram Description:*
-   CPU is connected via `system bus` to the `I/O controller`.
-   The `I/O controller` has:
    -   `internal ports` which connect to `integral devices`.
    -   `external ports` which connect to `peripheral devices`.
---
-   I/O controller, aka device controller manages connections between CPU and I/O devices

## Other Bus Types

### Universal Series Bus (USB)
-   a hierarchy is supported by the USB standard
    -   The computer is at the root of this hierarchy
-   Computer can connect 127 devices

### Special Multimedia Ports
-   Video Graphics Array (VGA) port
    -   for second monitor, no sound
-   High Definition Multimedia Interface (HDMI) port
    -   video + audio

## Exam style questions
2.  a) 
    -   **Data bus**: carries data (value, address, instruction) between memory, I/O devices, and CPU (specifically MDR). Bidirectional.
    -   **Address bus**: Sends memory addresses from the MAR to memory and I/O controller. Unidirectional.
    -   **Control bus**: connects the Control unit inside the CPU with the system components. This transmission e.g. includes the system clock signal. Bidirectional.
    
    b)
    i.  **Data bus**: preferably, but not always the length of a word. whatever the MDR can handle at once.
        **Address bus**: preferably, but not always the length of a word whatever the MAR can handle at once
        **Control Bus**: 8 bits (1 byte) doesn't need to carry much.
        *Defined by the number of bits carried simultaneously!*
    ii. Control bus has the least width as it doesn't carry much data
    iii. now there are significantly more addresses, allowing for the use of pure direct addresses. This will significantly speed up the system, given of course the MDR scales. This would be $$2^{64}$$ addresses which is a lot of TB. 32 bits would only allow for $$2^{32}$$ addresses which wouldn't cut it for most systems

4.  a)