# 8.1 Relational Databases

## Problems with File-Based Systems
- all databases, file-based or not, are vulnerable to wrong data entry
    - -> fix: validation
- File-based systems, using only a single file don't allow for permission handling

### File-based systems using multiple files:
- are vulnerable to data redundancy
    - -> means same data stored more than once
- data dependency becomes an issue:
    - -> changing data in one file doesn't update the same data in other tables -> integrity issue
- pre-defined structure issues: when inserting an extra column, a program that targeted e.g. column 4 might have to be rewritten
    - -> databases tend to be more rigid, making it harder to create new programs that use a database that was optimized for other programs
    - -> I imagine this being an issue with any database...

## Relational Databases

### Structure:
- data is stored in relations which are special types of tables
- It is given a name and a list of attributes on creation
    - -> Users(userID, balance, recent...) <- created like this
- Attributes are the column headers of a table, e.g. 'User-ID'
- There is no order for columns or rows
- A row in a relation is called a **tuple**
    - -> sometimes reffered to as 'record' and attribute values as 'fields'
- A tuple is reffered to as 'one instance' of a relation
- Relational databases use 'atomic' values: an attribute value holds either **one** value or no value

### Keys
- **Primary key:** each relation has one attribute (or a combination of attributes) that are used as a primary key
    - each tuple must hold a unique value for that key -> used as a selector
    - ensures integrity -> no duplicates
- **Candidate keys:** some relations have multiple attributes for which all values are unique
    - -> those attributes are considered candidate keys
- **Secondary keys:** candidate keys that weren't chosen to be a primary key
- often there is no candidate key, so a primary key has to be created
- the DBMS (database management system) rejects any new tuples with already existing primary key values
- **Foreign keys:** an attribute (a column) that refers to a column in another table (relation)
    - prevents data redundancy and protects integrity as data gets changed at all locations
    - provides referential integrity: foreign keys can be used to link attributes to prevent entry of non-existing values
        - -> the foreign key lists all acceptable values
        - -> the DBMS checks for referential integrity

