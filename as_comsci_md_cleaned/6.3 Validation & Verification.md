# 6.3 Validation & Verification

## Common types of Verification:

### Data Entry verification:
- ensure what was entered matches the user's intend
- many different implementations.
	- (e.g. show password, or double entry)

### Data Transfer Verification:
- ensure that data received is the same as the data sent
- Ways of implementation:
	- **Parity Bits**: In every byte one bit states if the byte is odd or even (number of 1s). Then there are parity bits for rows and columns of bytes stating if the number of 1s for parity bits is even or odd.
	- **Checksums**: Somehow creating a unique value individual to the message that is processed by the checksum function. If the checksum for the sent and received data matches, then it's likely equal.
		- ↳ uses e.g. hashing or bit adding

---
## Parity Bit Explanation

*The top row represents the parity bits for each column. The first column represents the parity bits for each row.*

| | Parity Bits → | | | | | | |
|---|---|---|---|---|---|---|---|
|**Parity Bits ↓**| 1 | 1 | 0 | 0 | 0 | 1 | 1 |
|**0**| 0 | 0 | 1 | 0 | 1 | 1 | 1 |
|**0**| 1 | 1 | 0 | 0 | 1 | 0 | 1 |
|**0**| 1 | 0 | 1 | 1 | 1 | 0 | 0 |
|**1**| 0 | 0 | 1 | 1 | 0 | 1 | 0 |
|**1**| 1 | 1 | 0 | 1 | 0 | 1 | 1 |
|**0**| 1 | 0 | 0 | 1 | 0 | 1 | 1 |
|**0**| 1 | 1 | 1 | 0 | 0 | 1 | 0 |

---
## Book Notes ♡

- Validation and verification are processes used to improve data integrity. → doesn't guarantee it!
- Validation and verification happen during data transfer (usually?)

### Validation of Data Entry
⇒ Check if entered data meets specified requirements (is reasonable)
- validation only includes following checks: *(e.g. birth date < 2020)*
	- **presence check** → for entry fields
	- **format check** → (e.g. YY/MM/DD)
	- **length check** → (e.g. characters)
	- **range check** → (e.g. 1 to 12)
	- **limit check** → (e.g. > 100)
	- **type check** → (e.g. is integer?)
	- **existence check** → for files
> Validation doesn't guarantee data is correct

### Verification of Data Entry
⇒ ensuring data entered is alligned with what the user intended to enter
- doesn't guarantee entered data is correct
- Methods for data entry verification:
	- Double entry
	- Visual check, (showing what was entered)

---
## Check Digit
- a very simple implementation of check sum, used for ISBN (books) and barcodes
- only used for all-number strings
- How it works:
	- numbers are added, multiplied, etc. in various ways
	- final step is dividing the number and taking the remainder
	- the remainder is the check digit
	- usually 1 to 10 (but X is used for 10)

---
## Verification During Transfer

### One-Bit Parity Check
**Even parity** → all correct bytes must have an eaven number of 1s
**Odd Parity** → there must be an uneven number of 1s for it to get accepted

Assuming even parity: One parity bit is added to every 7 bits of data
`1 0 0 1 1 0 1 0`
↑ parity bit | data (7b)
↳ makes a total of 4 (even) 1s
- If any one bit is flipped, the 1s won't be even anymore
	- ↳ the entire byte will be resent
- we can detect when there was **only one error**!
- we don't know which bit is wrong

### Checksum
=> another method to validate accurate transfer
- **Sender:**
	- Transmission is devided into blocks.
	- at the end of each block a few bytes are reserved for the checksum.
	- All bytes in the block are treated as binary values and summed up
	- The sum is stored as the checksum.
	- The block is sent
- **Receiver:**
	- Adds all block bytes together and compares sum with the checksum
	- might accept block or request to have it resent.
↳ This process can't find the faulty bit position

---
## Good to know:
### Universal Product Code Checksum Verification
- UPC barcodes have 12 digits
	↳ 11 for the code, 1 as check digit
- Example code: `0 36000 29145 2` (coding + checksum)
- formula for check digit:
  1. $$ x = (\text{sum of odd position digits}) \times 3 + (\text{sum of even position digits}) $$
  2. $$ y = x \pmod{10} $$
  3. If $y \ne 0$, the check digit is $10-y$. If $y=0$, the check digit is $0$.

- **example:** `0 36000 29145 2`
  - $$ (0+6+0+2+1+5) \times 3 + (3+0+0+9+4) $$
  - $$ = 14 \times 3 + 16 = 42 + 16 = 58 $$
  - $$ 58 \pmod{10} = 8 $$
  - $$ 10 - 8 = 2 $$
  - 2 is the check digit ✓
